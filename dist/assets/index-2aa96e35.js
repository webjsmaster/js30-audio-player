var w=Object.defineProperty;var y=(a,t,e)=>t in a?w(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var g=(a,t,e)=>(y(a,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const m of i.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function e(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(n){if(n.ep)return;n.ep=!0;const i=e(n);fetch(n.href,i)}})();class l{constructor(t){this.element=null,this.createElement(t)}createElement(t){this.element=document.createElement(t.tag),this.setClasses(t.classNames),this.setTextContent(t.textContent),this.setCallback(t.callback),this.setAttribute(t.attribute)}getElement(){return this.element}setClasses(t){t.forEach(e=>this.element.classList.add(e))}setTextContent(t){this.element.textContent=t}setCallback(t){typeof t=="function"&&this.element.addEventListener("click",e=>t(e))}setAttribute(t){t&&t.forEach(e=>this.element.setAttribute(e.id,e.value))}}class u{constructor(t){this.elementCreator=this.createView(t)}getHtmlElement(){return this.elementCreator.getElement()}createView(t){const e={tag:t.tag,classNames:t.classNames,textContent:t.textContent,callback:t.callback,attribute:t.attribute};return new l(e)}}const E=""+new URL("play2-31baef82.png",import.meta.url).href,b=""+new URL("pause2-c0d9faa1.png",import.meta.url).href,C=""+new URL("arrowR1-1e16bfea.png",import.meta.url).href,x=""+new URL("arrowL1-82d62cae.png",import.meta.url).href,v=""+new URL("Vandelux-Tulum-471e5c30.mp3",import.meta.url).href,L=""+new URL("Meute-Holy-harbour-50c56cfa.mp3",import.meta.url).href,T=""+new URL("Neon Project Feat. Ana - The Gate Of Passion-3d9bb5b6.mp3",import.meta.url).href,r={play:"play",pause:"pause",arrowLeft:"arrowLeft",arrowRight:"arrowRight"},N={play:E,pause:b,arrowLeft:x,arrowRight:C};class c extends u{constructor(t){const e={tag:"button",classNames:["button"],textContent:"",attribute:[{id:"id",value:t}],callback:()=>this.handlerButton()};super(e),this.player=new o,this.configureView(t)}configureView(t){this.elementCreator.getElement().append(this.insertImg(t).getElement())}insertImg(t){const s={tag:"img",attribute:[{id:"src",value:N[t]}],callback:null,classNames:[],textContent:""};return new l(s)}handlerButton(){const t=this.getHtmlElement().getAttribute("id");t===r.play||t===r.pause?(this.player.toggleStatus(),this.player.updateView()):(t===r.arrowRight||t===r.arrowLeft)&&this.player.changeTrack(t)}}class R extends u{constructor(t){const e={tag:"div",textContent:"",classNames:["range"],callback:null};super(e),this.player=new o,this.range=null,this.rangeRight=null,this.configureView(t),this.updatePos()}configureView(t){const e=t||500;console.log("[28] ðŸŒ»: ",e);const s={tag:"input",textContent:"",classNames:[],callback:null,attribute:[{id:"id",value:"range"},{id:"type",value:"range"},{id:"min",value:"0"},{id:"max",value:e},{id:"value",value:"0"},{id:"step",value:"1"}]},n={tag:"div",textContent:"",classNames:["range-line"],callback:null},i={tag:"div",textContent:"",classNames:["range-line-right"],callback:null},m={tag:"div",textContent:"",classNames:["range-line-left"],callback:null},d=this.elementCreator.getElement(),p=new l(n).getElement();this.rangeRight=new l(i).getElement();const f=new l(m).getElement();p.append(f,this.rangeRight),this.range=new l(s).getElement(),this.range.addEventListener("input",()=>{this.player.audio.currentTime=this.range.value,this.updatePos()}),d.append(this.range,p)}setValueRange(t){t!=="NaN"&&(this.range.value=t)}getRangePercent(){const{max:t}=this.range,{min:e}=this.range,s=this.range.value-e,n=t-e;return s/n}updatePos(){const e=this.getRangePercent()*100;this.rangeRight.style.width=`calc(100% - ${e}%)`}}function h(a){let t=parseInt(a,10),e=parseInt(t/60,10);t-=e*60;const s=parseInt(e/60,10);return e-=s*60,s===0?`${e}:${String(t%60).padStart(2,0)}`:`${String(s).padStart(2,0)}:${e}:${String(t%60).padStart(2,0)}`}class o extends u{constructor(){super({tag:"div",classNames:["player"],textContent:"",callback:null});g(this,"_currentTrack",1);g(this,"_isPlay",!1);if(o.exists)return o.instance;o.instance=this,o.exists=!0,this.tracks=[v,L,T],this.configureAudio(),this.configureView()}getStatus(){return this._isPlay}configureAudio(){this.audio=new Audio,this.audio.src=this.tracks[this._currentTrack],this.audio.addEventListener("loadeddata",()=>{this.configureView(),this.name.textContent=this.tracks[this._currentTrack].split("/").pop().split(".")[0],this.lengthTime.textContent=h(this.audio.duration)},!1),setInterval(()=>{this.range.setValueRange(this.audio.currentTime),this.range.updatePos(),this.currentTime.textContent=h(this.audio.currentTime)},500)}toggleStatus(){this._isPlay=!this._isPlay,this._isPlay?this.audio.play():this.audio.pause()}configureView(){const e=this.elementCreator.getElement();e.replaceChildren(),this.playButton=null,this._isPlay?this.playButton=new c(r.pause).getHtmlElement():this.playButton=new c(r.play).getHtmlElement(),this.leftButton=new c(r.arrowLeft).getHtmlElement(),this.rightButton=new c(r.arrowRight).getHtmlElement(),this.range=new R(this.audio.duration);const s=new l({tag:"div",classNames:["time"]}).getElement();this.currentTime=new l({tag:"div",classNames:["time__current"]}).getElement(),this.name=new l({tag:"div",classNames:["time__name"]}).getElement(),this.lengthTime=new l({tag:"div",classNames:["time__length"]}).getElement(),this.currentTime.textContent=h(this.audio.currentTime),s.append(this.currentTime,this.name,this.lengthTime),e.append(this.playButton,s,this.range.getHtmlElement(),this.leftButton,this.rightButton)}updateView(){const e=this.elementCreator.getElement();e.removeChild(this.playButton),this._isPlay?this.playButton=new c(r.pause).getHtmlElement():this.playButton=new c(r.play).getHtmlElement(),e.prepend(this.playButton),this.range.setValueRange(this.audio.currentTime),this.range.updatePos(),this.currentTime.textContent=h(this.audio.currentTime),this.lengthTime.textContent=h(this.audio.duration)}changeTrack(e){this.audio.pause(),this.audio=null,this._currentTrack=this._currentTrack===0?1:0,this.configureAudio(),this._isPlay?this.audio.play():this.audio.pause()}}class k extends u{constructor(){const t={tag:"div",classNames:["poster"],textContent:"",callback:null};super(t)}}class V extends u{constructor(){const t={tag:"div",classNames:["content"],textContent:"",callback:null};super(t),this.configureView()}configureView(){const t=this.elementCreator.getElement(),e=new o().getHtmlElement(),s=new k().getHtmlElement();t.append(s,e)}}class P extends u{constructor(){const t={tag:"div",classNames:["wrapper"],textContent:"",callback:null};super(t),this.configureView()}configureView(){this.elementCreator.getElement().append(new V().getHtmlElement())}}class B{constructor(){this.body=document.querySelector("#app"),this.createHtmlElement()}createHtmlElement(){const t=new P;this.body.append(t.getHtmlElement())}}new B;
